<div class="highlight"><pre><span></span><span class="k">upper   </span><span class="o">=</span> <span class="ni">? all uppercase characters ?</span><span class="p">;</span>
<span class="k">lower   </span><span class="o">=</span> <span class="ni">? all lowercase characters ?</span><span class="p">;</span>
<span class="k">digit   </span><span class="o">=</span> <span class="ni">? the digits from 0 to 9   ?</span><span class="p">;</span>

<span class="k">machine </span><span class="o">=</span> <span class="p">{</span><span class="k">rule</span><span class="p">};</span>
<span class="k">rule    </span><span class="o">=</span> <span class="k">state</span><span class="p">,</span> <span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="p">{</span><span class="k">clause</span><span class="p">};</span>
<span class="k">clause  </span><span class="o">=</span> <span class="k">symset</span><span class="p">,</span> <span class="p">{</span><span class="k">action</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="p">}</span> <span class="p">,</span> <span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="k">state</span><span class="p">;</span>
<span class="k">action  </span><span class="o">=</span> <span class="p">(</span><span class="s2">&quot;P&quot;</span><span class="p">,</span> <span class="k">symbol</span><span class="p">)</span> <span class="p">|</span> <span class="s2">&quot;R&quot;</span> <span class="p">|</span> <span class="s2">&quot;L&quot;</span> <span class="p">|</span> <span class="s2">&quot;N&quot;</span><span class="p">;</span>
<span class="k">symset  </span><span class="o">=</span> <span class="s2">&quot;Any&quot;</span> <span class="p">|</span> <span class="s2">&quot;AnyAndNone&quot;</span> <span class="p">|</span> <span class="s2">&quot;None&quot;</span> <span class="p">|</span> <span class="s2">&quot;Not&quot;</span><span class="p">,</span> <span class="k">symbol </span><span class="p">|</span> <span class="s2">&quot;Read&quot;</span><span class="p">,</span> <span class="k">symbol </span><span class="p">|</span> <span class="k">symbol</span><span class="p">;</span>
<span class="k">symbol  </span><span class="o">=</span> <span class="p">{</span><span class="k">lower </span><span class="p">|</span> <span class="k">digit</span><span class="p">};</span>
<span class="k">state   </span><span class="o">=</span> <span class="p">{</span><span class="k">upper </span><span class="p">|</span> <span class="k">digit</span><span class="p">}</span> <span class="p">|</span> <span class="k">func</span><span class="p">;</span>
<span class="k">func    </span><span class="o">=</span> <span class="p">{</span><span class="k">upper </span><span class="p">|</span> <span class="k">digit</span><span class="p">},</span> <span class="s2">&quot;(&quot;</span><span class="p">,</span> <span class="p">{</span><span class="k">state </span><span class="p">|</span> <span class="k">symbol</span><span class="p">},</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
</pre></div>
